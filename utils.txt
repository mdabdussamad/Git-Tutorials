Utility functions for vesion 2